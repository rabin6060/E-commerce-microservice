{"level":"error","message":"order place failed","service":"order-service","timestamp":"2025-02-24T06:47:58.004Z"}
{"level":"error","message":"order place failed","service":"order-service","timestamp":"2025-02-24T07:06:43.953Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"}},"index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"},"level":"error","message":"order place failed E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","service":"order-service","stack":"MongoServerError: E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }\n    at InsertOneOperation.execute (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-02-24T07:07:23.867Z"}
{"level":"error","message":"order place status change failed Stripe: Argument \"session\" must be a string, but got: undefined (on API request to `GET /v1/checkout/sessions/{session}`)","service":"order-service","stack":"Error: Stripe: Argument \"session\" must be a string, but got: undefined (on API request to `GET /v1/checkout/sessions/{session}`)\n    at /home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeResource.js:101:23\n    at Array.reduce (<anonymous>)\n    at Constructor._getRequestOpts (/home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeResource.js:98:35)\n    at /home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeResource.js:146:29\n    at new Promise (<anonymous>)\n    at Constructor._makeRequest (/home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeResource.js:142:16)\n    at Constructor.retrieve (/home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeMethod.js:31:83)\n    at success (/home/rabin/Desktop/E-commerce/order-service/src/controllers/order.controller.js:69:56)\n    at Layer.handle [as handle_request] (/home/rabin/Desktop/E-commerce/order-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/rabin/Desktop/E-commerce/order-service/node_modules/express/lib/router/route.js:149:13)","timestamp":"2025-02-24T07:24:22.491Z"}
{"level":"error","message":"order place status change failed Stripe: Argument \"session\" must be a string, but got: undefined (on API request to `GET /v1/checkout/sessions/{session}`)","service":"order-service","stack":"Error: Stripe: Argument \"session\" must be a string, but got: undefined (on API request to `GET /v1/checkout/sessions/{session}`)\n    at /home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeResource.js:101:23\n    at Array.reduce (<anonymous>)\n    at Constructor._getRequestOpts (/home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeResource.js:98:35)\n    at /home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeResource.js:146:29\n    at new Promise (<anonymous>)\n    at Constructor._makeRequest (/home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeResource.js:142:16)\n    at Constructor.retrieve (/home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeMethod.js:31:83)\n    at success (/home/rabin/Desktop/E-commerce/order-service/src/controllers/order.controller.js:70:56)\n    at Layer.handle [as handle_request] (/home/rabin/Desktop/E-commerce/order-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/rabin/Desktop/E-commerce/order-service/node_modules/express/lib/router/route.js:149:13)","timestamp":"2025-02-24T07:25:08.234Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"}},"index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"},"level":"error","message":"order place failed E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","service":"order-service","stack":"MongoServerError: E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }\n    at InsertOneOperation.execute (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-05T07:22:54.305Z"}
{"level":"error","message":"order place failed Cannot read properties of undefined (reading 'reduce')","service":"order-service","stack":"TypeError: Cannot read properties of undefined (reading 'reduce')\n    at addOrder (/home/rabin/Desktop/E-commerce/order-service/src/controllers/order.controller.js:21:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-05T07:52:37.289Z"}
{"level":"error","message":"order place failed Cannot read properties of undefined (reading 'reduce')","service":"order-service","stack":"TypeError: Cannot read properties of undefined (reading 'reduce')\n    at addOrder (/home/rabin/Desktop/E-commerce/order-service/src/controllers/order.controller.js:21:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-05T07:54:37.441Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"}},"index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"},"level":"error","message":"order place failed E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","service":"order-service","stack":"MongoServerError: E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }\n    at InsertOneOperation.execute (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-05T07:56:21.667Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"}},"index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"},"level":"error","message":"order place failed E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","service":"order-service","stack":"MongoServerError: E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }\n    at InsertOneOperation.execute (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-05T08:07:12.975Z"}
{"level":"error","message":"order place status change failed Stripe: Argument \"session\" must be a string, but got: undefined (on API request to `GET /v1/checkout/sessions/{session}`)","service":"order-service","stack":"Error: Stripe: Argument \"session\" must be a string, but got: undefined (on API request to `GET /v1/checkout/sessions/{session}`)\n    at /home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeResource.js:101:23\n    at Array.reduce (<anonymous>)\n    at Constructor._getRequestOpts (/home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeResource.js:98:35)\n    at /home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeResource.js:146:29\n    at new Promise (<anonymous>)\n    at Constructor._makeRequest (/home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeResource.js:142:16)\n    at Constructor.retrieve (/home/rabin/Desktop/E-commerce/order-service/node_modules/stripe/cjs/StripeMethod.js:31:83)\n    at success (/home/rabin/Desktop/E-commerce/order-service/src/controllers/order.controller.js:69:56)\n    at Layer.handle [as handle_request] (/home/rabin/Desktop/E-commerce/order-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/rabin/Desktop/E-commerce/order-service/node_modules/express/lib/router/route.js:149:13)","timestamp":"2025-03-05T08:56:26.973Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"}},"index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"},"level":"error","message":"order place failed E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","service":"order-service","stack":"MongoServerError: E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }\n    at InsertOneOperation.execute (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-05T09:10:01.031Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"}},"index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"},"level":"error","message":"order place failed E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","service":"order-service","stack":"MongoServerError: E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }\n    at InsertOneOperation.execute (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-05T09:10:59.309Z"}
{"level":"error","message":"order place failed req.body.items.reduce is not a function","service":"order-service","stack":"TypeError: req.body.items.reduce is not a function\n    at addOrder (/home/rabin/Desktop/E-commerce/order-service/src/controllers/order.controller.js:21:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-05T10:07:24.582Z"}
{"level":"error","message":"order place failed req.body.items.reduce is not a function","service":"order-service","stack":"TypeError: req.body.items.reduce is not a function\n    at addOrder (/home/rabin/Desktop/E-commerce/order-service/src/controllers/order.controller.js:21:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-05T10:07:35.925Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67c438929ac01dbde5d353f3\" }","index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67c438929ac01dbde5d353f3"}},"index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67c438929ac01dbde5d353f3"},"level":"error","message":"order place failed E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67c438929ac01dbde5d353f3\" }","service":"order-service","stack":"MongoServerError: E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67c438929ac01dbde5d353f3\" }\n    at InsertOneOperation.execute (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-05T10:12:59.482Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67c438929ac01dbde5d353f3\" }","index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67c438929ac01dbde5d353f3"}},"index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67c438929ac01dbde5d353f3"},"level":"error","message":"order place failed E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67c438929ac01dbde5d353f3\" }","service":"order-service","stack":"MongoServerError: E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67c438929ac01dbde5d353f3\" }\n    at InsertOneOperation.execute (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-05T10:13:06.867Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67c438929ac01dbde5d353f3\" }","index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67c438929ac01dbde5d353f3"}},"index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67c438929ac01dbde5d353f3"},"level":"error","message":"order place failed E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67c438929ac01dbde5d353f3\" }","service":"order-service","stack":"MongoServerError: E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67c438929ac01dbde5d353f3\" }\n    at InsertOneOperation.execute (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-05T10:13:12.941Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"}},"index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"},"level":"error","message":"order place failed E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","service":"order-service","stack":"MongoServerError: E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }\n    at InsertOneOperation.execute (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-09T12:38:06.010Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"}},"index":0,"keyPattern":{"items.productId":1},"keyValue":{"items.productId":"67bb13ca964521ee5bc87c81"},"level":"error","message":"order place failed E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }","service":"order-service","stack":"MongoServerError: E11000 duplicate key error collection: order.orders index: items.productId_1 dup key: { items.productId: \"67bb13ca964521ee5bc87c81\" }\n    at InsertOneOperation.execute (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:207:20)\n    at async executeOperation (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async Collection.insertOne (/home/rabin/Desktop/E-commerce/order-service/node_modules/mongodb/lib/collection.js:157:16)","timestamp":"2025-03-09T12:38:23.059Z"}
